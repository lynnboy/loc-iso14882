[section#span.cons
    [:en] Constructors, copy, and assignment
    [:zh_CN] 构造函数，复制和赋值
]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
constexpr span() noexcept;
[codeblock:end]

[enter:description]
[para:postconditions]
[:en] [`size() == 0 && data() == nullptr].
[:zh_CN] [`size() == 0 && data() == nullptr]。

[para:remarks]
[:en] This constructor shall not participate in overload resolution unless
[`Extent <= 0] is [`true].
[:zh_CN] 除非 [`Extent <= 0] 为 [`true]，否则这个构造函数不能参与重载决议。
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
constexpr span(pointer ptr, index_type count);
[codeblock:end]

[enter:description]
[para:requires]
[:en] [=range(ptr,ptr + count)] shall be a valid range.
[:zh_CN] [=range(ptr,ptr + count)] 应当为有效范围。

[:en] If [`extent] is not equal to [`dynamic_extent], then [`count] shall be
equal to [`extent].
[:zh_CN] 当 [`extent] 不等于 [`dynamic_extent] 时 [`count] 应当等于 [`extent]。

[para:effects]
[:en] Constructs a [`span] that is a view over the range
[=range(ptr,ptr + count)].
[:zh_CN] 构造一个作为范围 [=range(ptr,ptr + count)] 的视图的 [`span]。

[para:postconditions]
[:en] [`size() == count && data() == ptr].
[:zh_CN] [`size() == count && data() == ptr]。

[para:throws]
[:en] Nothing.
[:zh_CN] 无。
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
constexpr span(pointer first, pointer last);
[codeblock:end]

[enter:description]
[para:requires]
[:en] [=range(ptr,ptr + count)] shall be a valid range.
[:zh_CN] [=range(ptr,ptr + count)] 应当为有效范围。

[:en] If [`extent] is not equal to [`dynamic_extent], then [`last - first] shall
be equal to [`extent].
[:zh_CN] 当 [`extent] 不等于 [`dynamic_extent] 时 [`last - first] 应当等于
[`extent]。

[para:effects]
[:en] Constructs a span that is a view over the range [=range(first,last)].
[:zh_CN] 构造一个作为范围 [=range(first,last)] 的视图的 [`span]。

[para:postconditions]
[:en] [`size() == last - first && data() == first].
[:zh_CN] [`size() == last - first && data() == first]。

[para:throws]
[:en] Nothing.
[:zh_CN] 无。
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
template<size_t N> constexpr span(element_type (&arr)[N]) noexcept;
template<size_t N> constexpr span(array<value_type, N>& arr) noexcept;
template<size_t N> constexpr span(const array<value_type, N>& arr) noexcept;
[codeblock:end]

[enter:description]
[para:effects]
[:en] Constructs a [`span] that is a view over the supplied array.
[:zh_CN] 构造一个作为所提供的数组的视图的 [`span]。

[para:postconditions]
[:en] [`size() == N && data() == data(arr)].
[:zh_CN] [`size() == N && data() == data(arr)]。

[para:remarks]
[:en] These constructors shall not participate in overload resolution unless:
[:zh_CN] 除非满足以下条件，否则这些构造函数不能参与重载决议：

[list]
[item]
[:en] [`extent == dynamic_extent || N == extent] is [`true], and
[:zh_CN] [`extent == dynamic_extent || N == extent] 为 [`true]，并且
[item]
[:en] [`remove_pointer_t<decltype(data(arr))>(*)`[`]] is convertible to
[`ElementType(*)`[`]].
[:zh_CN] [`remove_pointer_t<decltype(data(arr))>(*)`[`]] 可以转换为
[`ElementType(*)`[`]]。
[list:end]
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
template<class Container> constexpr span(Container& cont);
template<class Container> constexpr span(const Container& cont);
[codeblock:end]

[enter:description]
[para:requires]
[:en] [=range(data(cont),data(cont) + size(cont))] shall be a valid range.
[:zh_CN] [=range(data(cont),data(cont) + size(cont))] 应当为有效范围。

[:en] If [`extent] is not equal to [`dynamic_extent], then [`size(cont)] shall
be equal to [`extent].
[:zh_CN] 当 [`extent] 不等于 [`dynamic_extent] 时 [`size(cont)] 应当等于
[`extent]。

[para:effects]
[:en] Constructs a [`span] that is a view over the range
[=range(data(cont),data(cont) + size(cont))].
[:zh_CN] 构造一个作为范围 [=range(data(cont),data(cont) + size(cont))] 的视图的
[`span]。

[para:postconditions]
[:en] [`size() == size(cont) && data() == data(cont)].
[:zh_CN] [`size() == size(cont) && data() == data(cont)]。

[para:throws]
[:en] What and when [`data(cont)] and [`size(cont)] throw.
[:zh_CN] 当 [`data(cont)] 或 [`size(cont)] 抛出异常时抛出其所抛出的异常。

[para:remarks]
[:en] These constructors shall not participate in overload resolution unless:
[:zh_CN] 除非满足以下条件，否则这些构造函数不能参与重载决议：

[list]
[item]
[:en] [`Container] is not a specialization of [`span],
[:zh_CN] [`Container] 不是 [`span] 的特例，
[item]
[:en] [`Container] is not a specialization of [`array],
[:zh_CN] [`Container] 不是 [`array] 的特例，
[item]
[:en] [`is_array_v<Container>] is [`false],
[:zh_CN] [`is_array_v<Container>] 为 [`false]，
[item]
[:en] [`data(cont)] and [`size(cont)] are both well-formed, and
[:zh_CN] [`data(cont)] 和 [`size(cont)] 都良构，并且
[item]
[:en] [`remove_pointer_t<decltype(data(cont))>(*)`[`]] is convertible to
[`ElementType(*)`[`]].
[:zh_CN] [`remove_pointer_t<decltype(data(cont))>(*)`[`]] 可以转换为
[`ElementType(*)`[`]]。
[list:end]
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
constexpr span(const span& other) noexcept = default;
[codeblock:end]

[enter:description]
[para:postconditions]
[:en] [`other.size() == size() && other.data() == data()].
[:zh_CN] [`other.size() == size() && other.data() == data()]。
[exit:description]

[%@library span[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
template<class OtherElementType, ptrdiff_t OtherExtent>
  constexpr span(const span<OtherElementType, OtherExtent>& s) noexcept;
[codeblock:end]

[enter:description]
[para:effects]
[:en] Constructs a [`span] that is a view over the range
[=range(s.data(),s.data() + s.size())].
[:zh_CN] 构造一个作为范围 [=range(s.data(),s.data() + s.size())] 的视图的
[`span]。

[para:postconditions]
[:en] [`size() == s.size() && data() == s.data()].
[:zh_CN] [`size() == s.size() && data() == s.data()]。

[para:remarks]
[:en] These constructors shall not participate in overload resolution unless:
[:zh_CN] 除非满足以下条件，否则这些构造函数不能参与重载决议：

[list]
[item]
[:en] [`Extent == dynamic_extent || Extent == OtherExtent] is [`true], and
[:zh_CN] [`Extent == dynamic_extent || Extent == OtherExtent] 为 [`true]，并且
[item]
[:en] [`OtherElementType(*)`[`]] is convertible to [`ElementType(*)`[`]].
[:zh_CN] [`OtherElementType(*)`[`]] 可以转换为 [`ElementType(*)`[`]]。
[list:end]
[exit:description]

[%@library operator=[!span]]
[codeblock:declaration]
constexpr span& operator=(const span& other) noexcept = default;
[codeblock:end]

[enter:description]
[para:postconditions]
[:en] [`size() == other.size() && data() == other.data()].
[:zh_CN] [`size() == other.size() && data() == other.data()]。
[exit:description]
