[section#temp.deduct.guide
    [:en] Deduction guides
    [:zh_CN] 推断导引
[%  [:en] deduction[!class template argument]
    [:zh_CN] 推断[!类模板实参～]]
]

[para]
[:en]
Deduction guides are used when a [~template-name] appears as a type specifier
for a deduced class type ([#dcl.type.class.deduct]).
[:zh_CN]
当被推断的类类型（[#dcl.type.class.deduct]）的类型说明符中出现[~模板名]时，可以
使用推断导引。

[:en]
Deduction guides are not found by name lookup.
[:zh_CN]
名字查找不能找到推断导引。

[:en]
Instead, when performing class template argument deduction
([#over.match.class.deduct]), any deduction guides declared for the class
template are considered.
[:zh_CN]
而当实施类模板实参推断（[#over.match.class.deduct]）时，需要考虑为这个类模板所
声明的所有推断导引。

[syntax]
[rule deduction-guide [:zh_CN] 推断导引 ]
    [| [`:opt:key explicit] template-name [`(] parameter-declaration-clause [`)]
        [`->] simple-template-id [`;] ]
[rule:end]
[syntax:end]

[para]
[begin:example]
[codeblock]
template<class T, class D = int>
struct S {
  T data;
};
template<class U>
S(U) -> S<typename U::type>;

struct A {
  using type = short;
  operator type();
};
S x{A()};           // [:en] [`x] is of type [`S<short, int>] \
                       [:zh_CN] [`x] 的类型为 [`S<short, int>]
[codeblock:end]
[end:example]

[para]
[:en]
The same restrictions apply to the [~parameter-declaration-clause] of a
deduction guide as in a function declaration ([#dcl.fct]).
[:zh_CN]
对推断导引的[~形参声明式子句]施加的限制，与函数声明式（[#dcl.fct]）的相同。

[:en]
The [~simple-template-id] shall name a class template specialization.
[:zh_CN]
[~简单模板标识]应当指名某个类模板特化。

[:en]
The [~template-name] shall be the same [~identifier] as the [~template-name] of
the [~simple-template-id].
[:zh_CN]
[~模板名]应当和[~简单模板标识]的[~模板名]是相同的[~标识符]。

[:en]
A [~deduction-guide] shall be declared in the same scope as the corresponding
class template and, for a member class template, with the same access.
[:zh_CN]
[~推断导引]应当和其对应的类模板声明于相同的作用域中，且在成员类模板的情况下，
具有相同的访问性。

[:en]
Two deduction guide declarations in the same translation unit for the same class
template shall not have equivalent [~parameter-declaration-clause]s.
[:zh_CN]
相同翻译单元中针对同一个类模板的两个推断导引声明式，不能具有等价的
[~形参声明式子句]。
