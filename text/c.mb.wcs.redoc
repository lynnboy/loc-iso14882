[section#c.mb.wcs
    [:en] Multibyte / wide string and character conversion functions
    [:zh_CN] 多字节字符串/宽字符串以及字符的转换函数
]

[para]
[begin:note]
[:en] The headers [?libheader@ref cstdlib], [?libheader@ref cuchar], and
[?libheader@ref cwchar] declare the functions described in this subclause.
[:zh_CN] 头文件 [?libheader@ref cstdlib]，[?libheader@ref cuchar]，和
[?libheader@ref cwchar] 声明了本子条款中所描述的各个函数。
[end:note]

[%@lib mbsinit]
[%@lib mblen]
[%@lib mbstowcs]
[%@lib wcstombs]
[codeblock:declaration]
int mbsinit(const mbstate_t* ps);
int mblen(const char* s, size_t n);
size_t mbstowcs(wchar_t* pwcs, const char* s, size_t n);
size_t wcstombs(char* s, const wchar_t* pwcs, size_t n);
[codeblock:end]

[div:description]
[para:effects]
[:en] These functions have the semantics specified in the C standard library.
[:zh_CN] 这些函数具有 C 标准程序库中所指定的语义。
[div:end]

[para:xref@c] 7.22.7.1, 7.22.8, 7.29.6.2.1

[%@lib mbtowc]
[%@lib wctomb]
[codeblock:declaration]
int mbtowc(wchar_t* pwc, const char* s, size_t n);
int wctomb(char* s, wchar_t wchar);
[codeblock:end]

[div:description]
[para:effects]
[:en] These functions have the semantics specified in the C standard library.
[:zh_CN] 这些函数具有 C 标准程序库中所指定的语义。

[para:remarks]
[:en] Calls to these functions may introduce a data race ([#res.on.data.races])
with other calls to the same function.
[:zh_CN] 调用这些函数，可能会引入同对相同函数的其他调用之间的数据竞争（[#res.on.data.races]）。
[div:end]

[para:xref@c] 7.22.7

[codeblock:declaration]
size_t [[redoc("`:lib>")]]mbrlen(const char* s, size_t n, mbstate_t* ps);
size_t [[redoc("`:lib>")]]mbrtowc(wchar_t* pwc, const char* s, size_t n, mbstate_t* ps);
size_t [[redoc("`:lib>")]]wcrtomb(char* s, wchar_t wc, mbstate_t* ps);
size_t [[redoc("`:lib>")]]mbrtoc8(char8_t* pc8, const char* s, size_t n, mbstate_t* ps);
size_t [[redoc("`:lib>")]]c8rtomb(char* s, char8_t c8, mbstate_t* ps);
size_t [[redoc("`:lib>")]]mbrtoc16(char16_t* pc16, const char* s, size_t n, mbstate_t* ps);
size_t [[redoc("`:lib>")]]c16rtomb(char* s, char16_t c16, mbstate_t* ps);
size_t [[redoc("`:lib>")]]mbrtoc32(char32_t* pc32, const char* s, size_t n, mbstate_t* ps);
size_t [[redoc("`:lib>")]]c32rtomb(char* s, char32_t c32, mbstate_t* ps);
size_t [[redoc("`:lib>")]]mbsrtowcs(wchar_t* dst, const char** src, size_t len, mbstate_t* ps);
size_t [[redoc("`:lib>")]]wcsrtombs(char* dst, const wchar_t** src, size_t len, mbstate_t* ps);
[codeblock:end]

[div:description]
[para:effects]
[:en] These functions have the semantics specified in the C standard library.
[:zh_CN] 这些函数具有 C 标准程序库中所指定的语义。

[para:remarks]
[:en] Calling these functions with an [`mbstate_t*] argument that is a null
pointer value may introduce a data race ([#res.on.data.races]) with other calls
to the same function with an [`mbstate_t*] argument that is a null pointer value.
[:zh_CN] 以空指针值作为 [`mbstate_t*] 实参来调用这些函数，可能会引入同对相同函数
的其他以空指针值作为 [`mbstate_t*] 实参的调用之间的数据竞争（[#res.on.data.races]）。
[div:end]

[para:xref@c] 7.30.1, 7.31.6.3, 7.31.6.4
