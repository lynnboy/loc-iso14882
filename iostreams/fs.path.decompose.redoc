[section#fs.path.decompose
    [:en] [`path] decomposition
    [:zh_CN] [`path] 分解
]

[%@library root_name[!path]]
[%@library path[!root_name]]
[codeblock:declaration]
path root_name() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] [~root-name], if the pathname in the generic format includes [~root-name],
otherwise [`path()].
[:zh_CN] 若通用格式的路径名中包含[~根名]则返回[~根名]，否则返回 [`path()]。
[exit:description]

[%@library root_directory[!path]]
[%@library path[!root_directory]]
[codeblock:declaration]
path root_directory() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] [~root-directory], if the pathname in the generic format includes
[~root-directory], otherwise [`path()].
[:zh_CN] 若通用格式的路径名中包含[~根目录]则返回[~根目录]，否则返回 [`path()]。
[exit:description]

[%@library root_path[!path]]
[%@library path[!root_path]]
[codeblock:declaration]
path root_path() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] [`root_name() / root_directory()].
[:zh_CN] [`root_name() / root_directory()]。
[exit:description]

[%@library relative_path[!path]]
[%@library path[!relative_path]]
[codeblock:declaration]
path relative_path() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] A [`path] composed from the pathname in the generic format, if
[`empty()] is [`false], beginning with the first [~filename] after
[`root_path()].
[:zh_CN] 如果 [`!empty()] 为 [`false]，则为从通用格式的路径名中，从
[`root_path()] 之后的第一个[~文件名]开始构成的一个 [`path]。

[:en] Otherwise, [`path()].
[:zh_CN] 否则，返回 [`path()]。
[exit:description]

[%@library parent_path[!path]]
[%@library path[!parent_path]]
[codeblock:declaration]
path parent_path() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] [`*this] if [`has_relative_path()] is [`false], otherwise a path whose
generic format pathname is the longest prefix of the generic format pathname of
[`*this] that produces one fewer element in its iteration.
[:zh_CN] 如果 [`has_relative_path()] 为 [`false]，则返回 [`*this]，否则返回一个
[`path]，其通用格式路径名为，[`*this] 的通用格式路径名中，进行迭代时比其自身少
一个元素的最长前缀。
[exit:description]

[%@library filename[!path]]
[%@library path[!filename]]
[codeblock:declaration]
path filename() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] [`relative_path().empty() ? path() : *--end()].
[:zh_CN] [`relative_path().empty() ? path() : *--end()]。

[para]
[enter:example]
[codeblock]
path("/foo/bar.txt").filename();   // [:en] yields [`"bar.txt"]
                                   // [|:zh_CN] 产生 [`"bar.txt"]
path("/foo/bar").filename();       // [:en] yields [`"bar"]
                                   // [|:zh_CN] 产生 [`"bar"]
path("/foo/bar/").filename();      // [:en] yields [`""]
                                   // [|:zh_CN] 产生 [`""]
path("/").filename();              // [:en] yields [`""]
                                   // [|:zh_CN] 产生 [`""]
path("//host").filename();         // [:en] yields [`""]
                                   // [|:zh_CN] 产生 [`""]
path(".").filename();              // [:en] yields [`"."]
                                   // [|:zh_CN] 产生 [`"."]
path("..").filename();             // [:en] yields [`".."]
                                   // [|:zh_CN] 产生 [`".."]
[codeblock:end]
[exit:example]
[exit:description]

[%@library stem[!path]]
[%@library path[!stem]]
[codeblock:declaration]
path stem() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] Let [`f] be the generic format pathname of [`filename()].
[:zh_CN] 令 [`f] 为 [`filename()] 的通用格式路径名。

[:en] Returns a path whose pathname in the generic format is
[:zh_CN] 返回通用格式路径名为以下之一的 [`path]：

[list]
[item]
[:en] [`f], if it contains no periods other than a leading period or consists
solely of one or two periods;
[:zh_CN] 如果 [`f] 中除了开头的句点不包含其他句点，或者仅由一个或两个句点构成，
则为 [`f]；
[item]
[:en] otherwise, the prefix of [`f] ending before its last period.
[:zh_CN] 否则，为 [`f] 的最后一个句点之前的前缀。
[list:end]

[para]
[enter:example]
[codeblock]
std::cout << path("/foo/bar.txt").stem(); // [:en] outputs [`"bar"]
                                          // [|:zh_CN] 输出 [`""]
path p = "foo.bar.baz.tar";
for (; !p.extension().empty(); p = p.stem())
  std::cout << p.extension() << '\n';
  // [:en] outputs: [`.tar]
  // [|:zh_CN] 输出：[`.tar]
  //          [`.baz]
  //          [`.bar]
[codeblock:end]
[exit:example]
[exit:description]

[%@library extension[!path]]
[%@library path[!extension]]
[codeblock:declaration]
path extension() const;
[codeblock:end]

[enter:description]
[para:returns]
[:en] a path whose pathname in the generic format is the suffix of [`filename()]
not included in [`stem()].
[:zh_CN] 一个 [`path]，其通用格式的路径为 [`filename()] 中不包括在 [`stem()] 中
的前缀。

[para]
[enter:example]
[codeblock]
path("/foo/bar.txt").extension();  // [:en] yields [`".txt"] and [`stem()] is [`"bar"]
                                   // [|:zh_CN] 产生 [`".txt"] 且 [`stem()] 为 [`"bar"]
path("/foo/bar").extension();      // [:en] yields [`""] and [`stem()] is [`"bar"]
                                   // [|:zh_CN] 产生 [`""] 且 [`stem()] 为 [`"bar"]
path("/foo/.profile").extension(); // [:en] yields [`""] and [`stem()] is [`".profile"]
                                   // [|:zh_CN] 产生 [`""] 且 [`stem()] 为 [`".profile"]
path(".bar").extension();          // [:en] yields [`""] and [`stem()] is [`".bar"]
                                   // [|:zh_CN] 产生 [`""] 且 [`stem()] 为 [`".bar"]
path("..bar").extension();         // [:en] yields [`".bar"] and [`stem()] is [`"."]
                                   // [|:zh_CN] 产生 [`".bar"] 且 [`stem()] 为 [`"."]
[codeblock:end]
[exit:example]

[para]
[enter:note]
[:en] The period is included in the return value so that it is possible to
distinguish between no extension and an empty extension.
[:zh_CN] 将句点包含到返回值中，这样做使得可以在无扩展名和空的扩展名之间加以区分。
[exit:note]

[para]
[enter:note]
[:en] On non-POSIX operating systems, for a path [`p], it may not be the case
that [`p.stem() + p.extension() == p.filename()], even though the generic format
pathnames are the same.
[:zh_CN] 在非 POSIX 操作系统中，对于路径 [`p] 来说，可能并不满足
[`p.stem() + p.extension() == p.filename()]，即便二者的通用格式路径名相同。
[exit:note]
[exit:description]
