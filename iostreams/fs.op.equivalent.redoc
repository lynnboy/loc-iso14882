[section#fs.op.equivalent
    [:en] Equivalent
    [:zh_CN] 等价
]

[%@library equivalent]
[codeblock:declaration]
bool equivalent(const path& p1, const path& p2);
bool equivalent(const path& p1, const path& p2, error_code& ec) noexcept;
[codeblock:end]

[enter:description]
[para]
[:en] Let [`s1] and [`s2] be [`file_status]s, determined as if by [`status(p1)]
and [`status(p2)], respectively.
[:zh_CN] 令 [`s1] 和 [`s2] 为 [`file_status]，分别如同由 [`status(p1)] 和
[`status(p2)] 所确定。

[para:effects]
[:en] Determines [`s1] and [`s2].
[:zh_CN] 确定 [`s1] 和 [`s2]。

[:en] If [`(!exists(s1) && !exists(s2)) || (is_other(s1) && is_other(s2))] an
error is reported ([#fs.err.report]).
[:zh_CN] 如果 [`(!exists(s1) && !exists(s2)) || (is_other(s1) && is_other(s2))]，
则报告错误（[#fs.err.report]）。

[para:returns]
[:en] [`true], if [`s1 == s2] and [`p1] and [`p2] resolve to the same file
system entity, else [`false].
[:zh_CN] 若 [`s1 == s2] 且 [`p1] 和 [`p2] 解析到相同的文件系统实体，则返回
[`true]，否则返回 [`false]。

[:en] The signature with argument [`ec] returns [`false] if an error occurs.
[:zh_CN] 当发生错误时，带有 [`ec] 实参的签名返回 [`false]。

[para]
[:en] Two paths are considered to resolve to the same file system entity if two
candidate entities reside on the same device at the same location.
[:zh_CN] 如果两个路径解析到的文件系统实体，位于相同设备上的同一个位置，则认为
它们解析到相同实体。

[:en] This is determined as if by the values of the POSIX [`stat] structure,
obtained as if by [`stat()] for the two paths, having equal [`st_dev] values and
equal [`st_ino] values.
[:zh_CN] 这种判定方式，如同对两个路径调用 [`stat()] 所获得的 POSIX [`stat] 结构
中的值进行的，即它们具有相等的 [`st_dev] 值和相等的 [`st_ino] 值。

[para:throws]
[:en] As specified in [#fs.err.report].
[:zh_CN] 如 [#fs.err.report] 所述。
[exit:description]
