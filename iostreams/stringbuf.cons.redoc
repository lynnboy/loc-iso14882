[section#stringbuf.cons
    [:en] [`basic_stringbuf] constructors
    [:zh_CN] [`basic_stringbuf] 构造函数
]

[%@library basic_stringbuf[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
explicit basic_stringbuf(
  ios_base::openmode which = ios_base::in | ios_base::out);
[codeblock:end]

[enter:description]
[para:effects]
[:en] Constructs an object of class [`basic_stringbuf], initializing the base
class with [`basic_streambuf()] ([#streambuf.cons]), and initializing [`mode]
with [`which].
[:zh_CN] 构造类 [`basic_stringbuf] 的对象，以 [`basic_streambuf()] 初始化其基类
（[#streambuf.cons]），并以 [`which] 初始化 [`mode]。

[para:postconditions]
[:en] [`str() == ""].
[:zh_CN] [`str() == ""]。
[exit:description]

[%@library basic_stringbuf[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
explicit basic_stringbuf(
  const basic_string<charT, traits, Allocator>& s,
  ios_base::openmode which = ios_base::in | ios_base::out);
[codeblock:end]

[enter:description]
[para:effects]
[:en] Constructs an object of class [`basic_stringbuf], initializing the base
class with [`basic_streambuf()] ([#streambuf.cons]), and initializing [`mode]
with [`which].
[:zh_CN] 构造类 [`basic_stringbuf] 的对象，以 [`basic_streambuf()] 初始化其基类
（[#streambuf.cons]），并以 [`which] 初始化 [`mode]。

[:en] Then calls [`str(s)].
[:zh_CN] 然后调用 [`str(s)]。
[exit:description]

[%@library basic_stringbuf[![:en]constructor[:zh_CN]构造函数]]
[codeblock:declaration]
basic_stringbuf(basic_stringbuf&& rhs);
[codeblock:end]

[enter:description]
[para:effects]
[:en] Move constructs from the rvalue [`rhs].
[:zh_CN] 从右值 [`rhs] 进行移动构造。

[:en] It is [%@impldef whether sequence pointers are copied by
[`basic_stringbuf] move constructor] implementation-defined whether the sequence
pointers in [`*this] ([`eback()], [`gptr()], [`egptr()], [`pbase()], [`pptr()],
[`epptr()]) obtain the values which [`rhs] had.
[:zh_CN] [`*this] 中的各序列指针（[`eback()]、[`gptr()]、[`egptr()]、[`pbase()]、
[`pptr()] 和 [`epptr()]）是否获得 [`rhs] 所具有的值是
[%@impldef [`basic_stringbuf] 的移动构造函数是否复制各序列指针]由实现定义的。

[:en] Whether they do or not, [`*this] and [`rhs] reference separate buffers (if
any at all) after the construction.
[:zh_CN] 无论其是否这样做，在构造完成之后 [`*this] 和 [`rhs] 都会指代不同的
缓冲区（如果有的话）。

[:en] The openmode, locale and any other state of [`rhs] is also copied.
[:zh_CN] 还要复制 [`rhs] 的 [`openmode]，[`locale] 和所有其他状态。

[para:postconditions]
[:en] Let [`rhs_p] refer to the state of [`rhs] just prior to this construction
and let [`rhs_a] refer to the state of [`rhs] just after this construction.
[:zh_CN] 令 [`rhs_p] 代表 [`rhs] 在进行这次构造之前的状态，并令 [`rhs_a] 代表
[`rhs] 这次构造之后的状态。

[list]
[item] [`str() == rhs_p.str()]
[item] [`gptr() - eback() == rhs_p.gptr() - rhs_p.eback()]
[item] [`egptr() - eback() == rhs_p.egptr() - rhs_p.eback()]
[item] [`pptr() - pbase() == rhs_p.pptr() - rhs_p.pbase()]
[item] [`epptr() - pbase() == rhs_p.epptr() - rhs_p.pbase()]
[item] [`if (eback()) eback() != rhs_a.eback()]
[item] [`if (gptr()) gptr() != rhs_a.gptr()]
[item] [`if (egptr()) egptr() != rhs_a.egptr()]
[item] [`if (pbase()) pbase() != rhs_a.pbase()]
[item] [`if (pptr()) pptr() != rhs_a.pptr()]
[item] [`if (epptr()) epptr() != rhs_a.epptr()]
[list:end]
[exit:description]
