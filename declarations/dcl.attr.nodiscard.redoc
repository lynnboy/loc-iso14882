[section#dcl.attr.nodiscard
    [:en] Nodiscard attribute
    [:zh_CN] nodiscard 特性标注

[%  [:en] attribute[!nodiscard]
    [:zh_CN] 特性标注[!nodiscard] ]
]

[para]
[:en]
The [~attribute-token] [`nodiscard] may be applied to the [~declarator-id]
in a function declaration or to the declaration of a class or enumeration.
[:zh_CN]
[~特性记号] [`nodiscard] 可以应用于函数声明式中的[~声明符标识]，或者类或枚举的
声明式之上。

[:en]
It shall appear at most once in each [~attribute-list] and no
[~attribute-argument-clause] shall be present.
[:zh_CN]
它在每个[~特性列表]中最多出现一次，且不能带有[~特性实参子句]。

[para]
[enter:note]
[:en]
A nodiscard call is a function call expression that calls a function previously
declared [`nodiscard], or whose return type is a possibly cv-qualified class or
enumeration type marked [`nodiscard].
[:zh_CN]
对之前声明为 [`nodiscard]，或其返回类型为可能被 cv 限定的带有 [`nodiscard] 标记
的类或枚举的函数所进行的调用，是 nodiscard 调用。

[:en]
Appearance of a nodiscard call as a potentially-evaluated discarded-value
expression ([#expr.prop]) is discouraged unless explicitly cast to [`void].
[:zh_CN]
不鼓励将 nodiscard 调用用作潜在求值的弃值表达式（[#expr.prop]），除非其被明确
强制转换为 [`void]。

[:en]
Implementations should issue a warning in such cases.
[:zh_CN]
实现最好对这种情况给出警告。

[:en]
This is typically because discarding the return value of a nodiscard call has
surprising consequences.
[:zh_CN]
这通常是因为放弃 nodiscard 调用的返回值会有意外的后果。
[exit:note]

[para]
[enter:example]
[codeblock]
struct [[nodiscard]] error_info { /*...*/ };
error_info enable_missile_safety_mode();
void launch_missiles();
void test_missiles() {
  enable_missile_safety_mode(); // [:en] warning encouraged
                                // [|:zh_CN] 鼓励给出警告
  launch_missiles();
}
error_info &foo();
void f() { foo(); }             // [:en] warning not encouraged: not a nodiscard call, because neither
                                // [|:zh_CN] 不鼓励给出警告：并非 nodiscard 调用，因为
                                // [:en@~] the (reference) return type nor the function is declared nodiscard
                                // [|:zh_CN@~] 其（引用）返回类型和函数均未声明为 nodiscard
[codeblock:end]
[exit:example]
